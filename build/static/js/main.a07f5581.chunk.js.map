{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","services/pageServices.js","components/Persons.jsx","App.js","index.js"],"names":["Filter","props","value","findName","onChange","searchName","PersonForm","onSubmit","addName","newName","handleAddName","type","placeholder","newNumber","handleAddNumber","pattern","url","services","retrieveData","axios","get","then","response","data","add","newContact","post","edit","contact","delete","catch","console","log","update","newObject","put","Persons","length","persons","map","person","name","number","onClick","window","confirm","pageService","id","setPersons","filter","p","toLowerCase","startsWith","App","useState","setNewName","setNewNumber","setFindName","useEffect","contactCard","e","target","preventDefault","obj","some","el","concat","ReactDOM","render","notes","content","date","important","document","getElementById"],"mappings":"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","file":"static/js/main.a07f5581.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Filter(props) {\r\n  return (\r\n    <div>\r\n      filter shown with a <input value={props.findName} onChange={props.searchName} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter; \r\n","import React from \"react\";\r\n\r\nfunction PersonForm(props) {\r\n  return (\r\n    <div>\r\n      <form onSubmit={props.addName}>\r\n        <div>\r\n          name:{\" \"}\r\n          <input\r\n            value={props.newName}\r\n            onChange={props.handleAddName}\r\n            type=\"text\"\r\n            placeholder=\"type name...\" \r\n          />\r\n        </div>\r\n        <div>\r\n          number:{\" \"}\r\n          <input\r\n            value={props.newNumber}\r\n            onChange={props.handleAddNumber}\r\n            type=\"tel\"\r\n            placeholder=\"type number...\"\r\n            pattern=\"[0-9]{10}\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\nconst url = \"/api/persons\";\r\n\r\nconst retrieveData = () => axios.get(url).then((response) => response.data);\r\n\r\nconst add = (newContact) =>\r\n  axios.post(url, newContact).then((response) => response.data);\r\n\r\nconst edit = (contact) => {\r\n  axios\r\n    .delete(`${url}/${contact}`)\r\n    .then((response) => response.data)\r\n    .catch(() => console.log(\"error\"));\r\n};\r\n\r\nconst update = (contact, newObject) => {\r\n  axios.put(`${url}/${contact}`, newObject).then(response => response.data).catch(() => console.log('error'))\r\n}\r\n\r\nconst services = { retrieveData, add, edit, update };\r\n\r\nexport default services;\r\n","import React from 'react'\r\nimport pageService from '../services/pageServices'\r\n\r\nfunction Persons(props) {\r\n    return ( \r\n        <div>\r\n            {(props.findName.length <= 0) ? (props.persons.map(person => <div key={person.id}>{person.name} {person.number} <button onClick={\r\n                () => {\r\n                    if (window.confirm(`Do you want to delete ${person.name}`)) {\r\n                        pageService.edit(person.id)\r\n                        props.setPersons(props.persons.filter(p => p.id !== person.id))\r\n                    }\r\n                }\r\n\r\n            }>delete</button></div>)) : props.persons.filter(person => person.name.toLowerCase().startsWith(props.findName.toLowerCase())).map(person => <div key={person.id}>{person.name} {person.number} <button onClick={\r\n                () => {\r\n                    if (window.confirm(`Do you want to delete ${person.name}`)) {\r\n                        pageService.edit(person.id)\r\n                        props.setPersons(props.persons.filter(p => p.id !== person.id))\r\n                    }\r\n                }\r\n            }>delete</button></div>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport pageService from \"./services/pageServices\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [findName, setFindName] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    pageService\r\n      .retrieveData()\r\n      .then((contactCard) => {\r\n        setPersons(contactCard);\r\n      })\r\n      .catch(() => console.log(\"error\"));\r\n  }, []);\r\n\r\n  const userExists = (arr, obj) => {\r\n    return arr.some((el) => el.name === obj.name);\r\n  };\r\n\r\n  const addName = (e) => {\r\n    e.preventDefault();\r\n    const newObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    let id = userExists(persons, newObject);\r\n    if (id > 0) {\r\n      if(window.confirm(\"Do you want to replace the old number with the new number?\")) {\r\n        pageService.update(id, newObject)\r\n      }\r\n    } else {\r\n      pageService\r\n        .add(newObject)\r\n        .then((newContact) => {\r\n          setPersons(persons.concat(newContact));\r\n          setNewNumber(\"\");\r\n        })\r\n        .catch(() => console.log(\"error\"));\r\n    }\r\n    setNewName(\"\");\r\n  };\r\n\r\n  const searchName = (e) => setFindName(e.target.value);\r\n  const handleAddName = (e) => setNewName(e.target.value);\r\n  const handleAddNumber = (e) => setNewNumber(e.target.value);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter findName={findName} searchName={searchName} />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        addName={addName}\r\n        newName={newName}\r\n        handleAddName={handleAddName}\r\n        newNumber={newNumber}\r\n        handleAddNumber={handleAddNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons findName={findName} persons={persons} setPersons={setPersons} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nconst notes = [\r\n  {\r\n    id: 1,\r\n    content: 'HTML is easy',\r\n    date: '2019-05-30T17:30:31.098Z',\r\n    important: true\r\n  },\r\n  {\r\n    id: 2,\r\n    content: 'Browser can execute only JavaScript',\r\n    date: '2019-05-30T18:39:34.091Z',\r\n    important: false\r\n  },\r\n  {\r\n    id: 3,\r\n    content: 'GET and POST are the most important methods of HTTP protocol',\r\n    date: '2019-05-30T19:20:14.298Z',\r\n    important: true\r\n  }\r\n]\r\n\r\nReactDOM.render (\r\n  <App notes={notes}/>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}